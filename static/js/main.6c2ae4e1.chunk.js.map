{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","services/pixabay-api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handlerSearchQuery","event","setState","currentTarget","value","handlerSubmit","preventDefault","trim","alert","props","onSubmit","this","className","s","header","form","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","fetchImages","url","_searchQuery","_page","_totalImages","_api","a","fetch","response","json","data","totalImages","total","hits","console","log","ImageGalleryItem","images","map","id","webformatURL","largeImageURL","item","src","alt","image","Button","onClick","API","pixabayAPI","Status","ImageGallery","status","error","prevProps","prevSearchTerms","nextSearchTerms","querySearch","length","center","color","height","width","gallery","onLoadMore","message","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6c2ae4e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\",\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\",\"center\":\"ImageGallery_center__1xxlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handlerSearchQuery = (event) => {\n    this.setState({\n      searchQuery: event.currentTarget.value,\n    });\n  };\n\n  handlerSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.searchQuery.trim() === \"\") {\n      return alert(\"Enter query search\");\n    }\n\n    this.props.onSubmit(this.state.searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <header className={s.header}>\n        <form className={s.form} onSubmit={this.handlerSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.label}>Search</span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchQuery}\n            onChange={this.handlerSearchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","class fetchImages {\n  constructor(url = \"https://pixabay.com/api\") {\n    this.url = url;\n    this._searchQuery = \"\";\n    this._page = 1;\n    this._totalImages = 0;\n    this._api = \"1030453-4271fa747ef92e686e2b519ac\";\n  }\n\n  get searchQuery() {\n    return this._searchQuery;\n  }\n\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  get page() {\n    return this._page;\n  }\n\n  set page(value) {\n    return (this._page += value);\n  }\n\n  get totalImages() {\n    return this._totalImages;\n  }\n\n  set totalImages(value) {\n    return (this._totalImages = value);\n  }\n\n  async querySearch() {\n    try {\n      const response = await fetch(\n        `${this.url}?q=${this._searchQuery}&page=${this._page}&key=${this._api}&orientation=horizontal&per_page=12`\n      );\n      const data = await response.json();\n\n      this.totalImages = data.total;\n      return data.hits;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n\nexport default fetchImages;\n","import { Component } from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nclass ImageGalleryItem extends Component {\n  render() {\n    return this.props.images.map(({ id, webformatURL, largeImageURL }) => {\n      return (\n        <li key={id} id={id} className={s.item}>\n          <img\n            src={webformatURL}\n            data-modal={largeImageURL}\n            alt=\"\"\n            className={s.image}\n          />\n        </li>\n      );\n    });\n  }\n}\n\nexport default ImageGalleryItem;\n","import { Component } from \"react\";\nimport s from \"./Button.module.css\";\n\nclass Button extends Component {\n  render() {\n    return (\n      <button className={s.button} onClick={this.props.onClick}>\n        Load more\n      </button>\n    );\n  }\n}\n\nexport default Button;\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport pixabayAPI from \"../../services/pixabay-api\";\nimport ImageGalleryItem from \"components/ImageGalleryItem\";\nimport ButtonLoadMore from \"components/Button\";\nimport s from \"./ImageGallery.module.css\";\n\nconst API = new pixabayAPI();\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n  EMPTY: \"empty\",\n};\n\nclass ImageGallery extends Component {\n  state = {\n    images: [],\n    status: Status.IDLE,\n    error: null,\n  };\n\n  async componentDidUpdate(prevProps) {\n    const prevSearchTerms = prevProps.searchQuery;\n    const nextSearchTerms = this.props.searchQuery;\n\n    if (prevSearchTerms !== nextSearchTerms) {\n      this.setState({ status: Status.PENDING });\n\n      try {\n        API.searchQuery = nextSearchTerms;\n        const images = await API.querySearch();\n\n        this.setState({\n          images,\n          status: images.length > 0 ? Status.RESOLVED : Status.EMPTY,\n        });\n      } catch (error) {\n        this.setState({\n          error,\n          status: Status.REJECTED,\n        });\n      }\n    }\n  }\n\n  onLoadMore() {\n    console.log(\"load more\");\n  }\n\n  render() {\n    const { images, status, error } = this.state;\n\n    if (status === \"idle\") {\n      return <></>;\n    }\n\n    if (status === \"empty\") {\n      return (\n        <p>\n          Sorry, but nothing matched your search terms. Please try again with\n          some different keywords.\n        </p>\n      );\n    }\n\n    if (status === \"pending\") {\n      return (\n        <>\n          <Loader\n            className={s.center}\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={100}\n            width={100}\n          />\n        </>\n      );\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          <ul className={s.gallery}>\n            <ImageGalleryItem images={images} />\n          </ul>\n\n          {API.totalImages > 12 && <ButtonLoadMore onClick={this.onLoadMore} />}\n        </>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <p>{error.message}</p>;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handlerSearchQuery = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handlerSearchQuery} />\n\n        <ImageGallery searchQuery={this.state.searchQuery} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Searchbar_header__34uEY\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"label\":\"Searchbar_label__1BV3w\",\"input\":\"Searchbar_input__2C4aO\"};"],"sourceRoot":""}